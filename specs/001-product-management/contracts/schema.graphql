# Complete GraphQL Schema for Product Management Module
# Generated: 2025-11-02
# Version: v1

"""
Root Query type for all read operations
"""
type Query {
  # Product Queries
  product(id: ID!): Product
  products(filter: ProductFilter, sort: ProductSort, pagination: PaginationInput): ProductConnection!
  
  # Variant Queries
  variant(id: ID!): ProductVariant
  
  # Category Queries
  category(id: ID!): ProductCategory
  categoryTree(rootCategoryId: ID): [CategoryNode!]!
  
  # Collection Queries
  collection(id: ID!): ProductCollection
  productsByCollection(collectionId: ID!, pagination: PaginationInput): ProductConnection!
  
  # Option Queries
  productOptions(productId: ID!): [ProductOption!]!
  
  # Tag Queries
  tag(id: ID!): ProductTag
  tags(filter: TagFilter): [ProductTag!]!
  
  # Type Queries
  productType(id: ID!): ProductType
  productTypes: [ProductType!]!
}

"""
Root Mutation type for all write operations
"""
type Mutation {
  # Product Mutations
  createProduct(input: CreateProductInput!): ProductPayload!
  updateProduct(id: ID!, input: UpdateProductInput!): ProductPayload!
  deleteProduct(id: ID!): DeletePayload!
  
  # Variant Mutations
  createProductVariant(productId: ID!, input: CreateVariantInput!): VariantPayload!
  updateProductVariant(id: ID!, input: UpdateVariantInput!): VariantPayload!
  deleteProductVariant(id: ID!): DeletePayload!
  associateVariantOptions(variantId: ID!, optionValueIds: [ID!]!): VariantPayload!
  
  # Category Mutations
  createCategory(input: CreateCategoryInput!): CategoryPayload!
  updateCategory(id: ID!, input: UpdateCategoryInput!): CategoryPayload!
  deleteCategory(id: ID!): DeletePayload!
  assignProductToCategories(productId: ID!, categoryIds: [ID!]!): ProductPayload!
  
  # Option Mutations
  createProductOption(productId: ID!, title: String!, values: [String!]!): OptionPayload!
  addOptionValue(optionId: ID!, value: String!): OptionValuePayload!
  deleteOptionValue(id: ID!): DeletePayload!
  
  # Collection Mutations
  createCollection(input: CreateCollectionInput!): CollectionPayload!
  updateCollection(id: ID!, input: UpdateCollectionInput!): CollectionPayload!
  deleteCollection(id: ID!): DeletePayload!
  
  # Tag Mutations
  createTag(value: String!): TagPayload!
  assignTagsToProduct(productId: ID!, tagIds: [ID!]!): ProductPayload!
  deleteTag(id: ID!): DeletePayload!
  
  # Type Mutations
  createProductType(value: String!, metadata: JSON): TypePayload!
  updateProductType(id: ID!, value: String, metadata: JSON): TypePayload!
  deleteProductType(id: ID!): DeletePayload!
  
  # Image Mutations
  uploadProductImage(productId: ID!, url: String!, rank: Int, metadata: JSON): ImagePayload!
  associateImageWithVariant(imageId: ID!, variantId: ID!): BooleanPayload!
  deleteProductImage(id: ID!): DeletePayload!
}

# Common scalar types
scalar DateTime
scalar JSON

# Common input types
input PaginationInput {
  limit: Int = 50
  offset: Int = 0
  cursor: String
}

# Common payload types
type DeletePayload {
  success: Boolean!
  deletedAt: DateTime!
  message: String
}

type BooleanPayload {
  success: Boolean!
  message: String
}

# Include all domain-specific types
# (These are defined in separate files for better organization)

