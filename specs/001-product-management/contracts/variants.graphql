# Product Variant Type Definitions and Operations
# API Version: v1
# Rate Limits: 200 req/min per user

"""
Product variant representing a specific variation of a product
"""
type ProductVariant {
  id: ID!
  title: String!
  sku: String
  barcode: String
  ean: String
  upc: String
  allowBackorder: Boolean!
  manageInventory: Boolean!
  hsCode: String
  originCountry: String
  thumbnail: String
  midCode: String
  material: String
  weight: Int
  length: Int
  height: Int
  width: Int
  variantRank: Int!
  metadata: JSON
  createdAt: DateTime!
  updatedAt: DateTime!
  
  # Relations
  product: Product!
  optionValues: [ProductOptionValue!]!
  images: [ProductImage!]!
}

"""
Input for creating a new variant
"""
input CreateVariantInput {
  title: String!
  sku: String
  barcode: String
  ean: String
  upc: String
  allowBackorder: Boolean = false
  manageInventory: Boolean = true
  hsCode: String
  originCountry: String
  thumbnail: String
  midCode: String
  material: String
  weight: Int
  length: Int
  height: Int
  width: Int
  variantRank: Int = 0
  metadata: JSON
  optionValueIds: [ID!]
}

"""
Input for updating an existing variant
"""
input UpdateVariantInput {
  title: String
  sku: String
  barcode: String
  ean: String
  upc: String
  allowBackorder: Boolean
  manageInventory: Boolean
  hsCode: String
  originCountry: String
  thumbnail: String
  midCode: String
  material: String
  weight: Int
  length: Int
  height: Int
  width: Int
  variantRank: Int
  metadata: JSON
  expectedUpdatedAt: DateTime!
}

"""
Variant mutation response payload
"""
type VariantPayload {
  variant: ProductVariant
  errors: [Error!]
}

# Query Examples:

# Get a single variant
# query GetVariant {
#   variant(id: "var_789") {
#     id
#     title
#     sku
#     barcode
#     allowBackorder
#     optionValues {
#       id
#       value
#       option {
#         title
#       }
#     }
#     product {
#       title
#     }
#   }
# }

# Mutation Examples:

# Create a variant
# mutation CreateVariant {
#   createProductVariant(
#     productId: "prod_123"
#     input: {
#       title: "Medium - Blue"
#       sku: "SHIRT-M-BL"
#       manageInventory: true
#       allowBackorder: false
#       optionValueIds: ["val_size_m", "val_color_blue"]
#     }
#   ) {
#     variant {
#       id
#       title
#       sku
#       optionValues {
#         value
#       }
#     }
#     errors {
#       message
#     }
#   }
# }

# Associate variant with option values
# mutation AssociateOptions {
#   associateVariantOptions(
#     variantId: "var_789"
#     optionValueIds: ["val_size_l", "val_color_red"]
#   ) {
#     variant {
#       id
#       optionValues {
#         id
#         value
#       }
#     }
#   }
# }

