---
github_number: 37
title: "Configure package exports for @czo/kit"
status: synced
type: task
priority: medium
epic: 20
prd: kit
assignees: []
labels: []
created: 2026-02-04
updated: 2026-02-08
---

## Overview

Configure the package.json exports field for @czo/kit to enable selective imports and tree-shaking.

## Parent Epic

- Epic #20: @czo/kit Module

## Source Documents

- **TRD**: docs/planning/kit/trd.md (Section 4.1 Package Exports)

## Technical Details

### Export Structure

```json
{
  "exports": {
    ".": "./dist/index.js",
    "./db/repository": "./dist/db/repository/index.js",
    "./cache": "./dist/cache/index.js",
    "./events": "./dist/events/index.js",
    "./hooks": "./dist/hooks/index.js",
    "./apps": "./dist/apps/index.js"
  }
}
```

### File Organization

```
packages/kit/src/
├── index.ts              # Main entry (existing)
├── db/
│   └── repository/
│       ├── index.ts      # Re-exports all builders
│       ├── queries.ts    # createQueries
│       ├── cached-queries.ts  # createCachedQueries
│       └── mutations.ts  # createMutations
├── cache/
│   └── index.ts          # useCacheManager
├── events/
│   └── index.ts          # EventEmitter, useEvents
├── hooks/
│   └── index.ts          # HookRegistry, useHooks
└── apps/
    ├── index.ts          # Re-exports
    ├── registry.ts       # AppRegistry
    └── webhooks.ts       # WebhookDispatcher
```

### Import Examples

```typescript
// Selective imports for tree-shaking
import { createQueries } from '@czo/kit/db/repository'
import { useCacheManager } from '@czo/kit/cache'
import { useEvents } from '@czo/kit/events'
import { useHooks } from '@czo/kit/hooks'
import { useAppRegistry, useWebhooks } from '@czo/kit/apps'
```

## Acceptance Criteria

- [ ] All subpath exports configured in package.json
- [ ] TypeScript types exported for each subpath
- [ ] Tree-shaking works (unused code not bundled)
- [ ] Build produces correct output structure
- [ ] IDE autocomplete works for all exports

## Dependencies

- unbuild configuration
- TypeScript config
