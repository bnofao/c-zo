---
github_number: 24
title: "As a developer, I want to intercept operations"
status: synced
type: feature
priority: high
epic: 20
prd: kit
assignees: []
labels: [type:feature, priority:high, module:kit]
created: 2026-02-04
updated: 2026-02-10
---

## Context
From PRD: kit
Feature: HookRegistry
Priority: P0 (Must-Have)

## Description
Système de hooks pour intercepter les opérations avec before/after/onError

## User Story
**As a** developer
**I want to** intercept operations
**So that** I can add validation, logging, or enrichment

## Acceptance Criteria
- [x] Interface `HookRegistry` avec `before`, `after`, `onError`
- [x] Method `run(hook, context, fn)` pour exécution avec hooks
- [ ] Before hooks peuvent modifier le context
- [ ] After hooks peuvent modifier le result
- [ ] Error hooks pour logging/recovery
- [ ] Type safety via module augmentation (`HookMap`)
- [ ] Unsubscribe via returned function

## Dependencies
hookable

## Related
- PRD: docs/planning/kit/prd.md
- TRD: docs/planning/kit/trd.md
- Epic: #20
