type AdminUser {
  id: ID!
  name: String!
  email: String!
  role: String!
  banned: Boolean!
  banReason: String
  banExpires: DateTime
  createdAt: DateTime!
}

type AdminUserList {
  users: [AdminUser!]!
  total: Int!
}

type UserSession {
  id: ID!
  userId: ID!
  expiresAt: DateTime!
  ipAddress: String
  userAgent: String
  impersonatedBy: String
  createdAt: DateTime!
}

input CreateUserInput {
  email: EmailAddress!
  name: String!
  password: String
  role: String
}

input UpdateUserInput {
  name: String
  email: EmailAddress
}

extend type Query {
  adminUsers(limit: Int, offset: Int, search: String): AdminUserList!
  adminUser(userId: ID!): AdminUser!
  adminUserSessions(userId: ID!): [UserSession!]!
}

extend type Mutation {
  adminCreateUser(input: CreateUserInput!): AdminUser!
  adminUpdateUser(userId: ID!, input: UpdateUserInput!): AdminUser!
  adminImpersonateUser(userId: ID!): Boolean!
  adminStopImpersonation: Boolean!
  adminBanUser(userId: ID!, reason: String, expiresIn: Int): Boolean!
  adminUnbanUser(userId: ID!): Boolean!
  adminSetRole(userId: ID!, role: String!): Boolean!
  adminRemoveUser(userId: ID!): Boolean!
  adminRevokeSession(sessionToken: String!): Boolean!
  adminRevokeSessions(userId: ID!): Boolean!
}
